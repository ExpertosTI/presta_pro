import{j as e,C as a,f as l,d as j,a as N}from"./index-868a038d.js";function f({loans:d,expenses:i,receipts:o}){const m=d.reduce((t,s)=>t+parseFloat(s.amount||0),0),p=d.reduce((t,s)=>t+(s.totalInterest||0),0),x=o.reduce((t,s)=>t+parseFloat(s.amount||0),0),h=i.reduce((t,s)=>t+parseFloat(s.amount||0),0),r=x-h,c=o.slice(0,8),n=i.slice(-8).reverse();return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Contabilidad"}),e.jsx("button",{type:"button",onClick:()=>window.print(),className:"text-xs md:text-sm inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-100",children:"Imprimir reporte"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(a,{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Capital Prestado"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:l(m)}),e.jsx("p",{className:"text-[11px] text-slate-400 mt-1",children:"Suma de todos los préstamos otorgados."})]}),e.jsxs(a,{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Interés Proyectado"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:l(p)}),e.jsx("p",{className:"text-[11px] text-slate-400 mt-1",children:"Total de intereses según las tablas de amortización."})]}),e.jsxs(a,{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Cobrado Acumulado"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:l(x)}),e.jsx("p",{className:"text-[11px] text-slate-400 mt-1",children:"Suma de todos los recibos registrados."})]}),e.jsxs(a,{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:"Utilidad Neta (Cobros - Gastos)"}),e.jsx("p",{className:`text-2xl font-bold ${r>=0?"text-emerald-600":"text-red-600"}`,children:l(r)}),e.jsx("p",{className:"text-[11px] text-slate-400 mt-1",children:"Indicador rápido, no reemplaza estados financieros formales."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Últimos Cobros"}),c.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No hay recibos registrados."}):e.jsx("ul",{className:"divide-y divide-slate-100 text-sm",children:c.map(t=>e.jsxs("li",{className:"py-2 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-800",children:t.clientName}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:["Recibo #",t.id.substr(0,6).toUpperCase()," • Préstamo ",t.loanId.substr(0,6).toUpperCase()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-emerald-600",children:l(t.amount)}),e.jsx("p",{className:"text-[11px] text-slate-500",children:j(t.date)})]})]},t.id))})]}),e.jsxs(a,{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Últimos Gastos"}),n.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No hay gastos registrados."}):e.jsx("ul",{className:"divide-y divide-slate-100 text-sm",children:n.map(t=>e.jsxs("li",{className:"py-2 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-800",children:t.category||"Gasto"}),e.jsx("p",{className:"text-[11px] text-slate-500",children:t.notes||t.description||""})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-red-600",children:l(t.amount)}),e.jsx("p",{className:"text-[11px] text-slate-500",children:t.date?N(t.date):""})]})]},t.id))})]})]})]})}export{f as AccountingView,f as default};
