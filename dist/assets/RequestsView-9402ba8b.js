import{r as m,j as e,C as i,f as h}from"./index-868a038d.js";function g({requests:n,clients:r,addRequest:d,approveRequest:o,rejectRequest:c,onNewClient:u}){const[s,l]=m.useState({clientId:"",amount:"",rate:"",term:"",frequency:"Mensual",startDate:new Date().toISOString().split("T")[0]});return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Solicitudes de Crédito"}),e.jsx("button",{onClick:()=>document.getElementById("reqForm").scrollIntoView(),className:"bg-teal-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:"Nueva Solicitud"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-bold text-slate-600 uppercase text-sm tracking-wider",children:"En Revisión"}),n.filter(t=>t.status==="REVIEW").map(t=>{const a=r.find(x=>x.id===t.clientId);return e.jsxs(i,{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-slate-800",children:a==null?void 0:a.name}),e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded",children:"Revisión"})]}),e.jsxs("div",{className:"text-sm text-slate-600 grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{children:["Monto: ",e.jsx("span",{className:"font-semibold",children:h(t.amount)})]}),e.jsxs("div",{children:["Tasa: ",t.rate,"%"]}),e.jsxs("div",{children:["Plazo: ",t.term," ",t.frequency]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o(t),className:"flex-1 bg-teal-600 text-white py-1.5 rounded-lg text-sm font-bold hover:bg-teal-700",children:"Aprobar"}),e.jsx("button",{onClick:()=>c(t),className:"flex-1 bg-red-100 text-red-700 py-1.5 rounded-lg text-sm font-bold hover:bg-red-200",children:"Rechazar"})]})]},t.id)}),n.filter(t=>t.status==="REVIEW").length===0&&e.jsx("p",{className:"text-center text-slate-400 py-4 text-sm",children:"No hay solicitudes pendientes"})]}),e.jsx("div",{id:"reqForm",children:e.jsxs(i,{children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crear Nueva Solicitud"}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),s.clientId&&d(s)},className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{required:!0,className:"flex-1 p-2 border rounded-lg bg-white",value:s.clientId,onChange:t=>l({...s,clientId:t.target.value}),children:[e.jsx("option",{value:"",children:"Seleccionar Cliente"}),r.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("button",{type:"button",onClick:u,className:"bg-blue-100 text-blue-700 p-2 rounded-lg hover:bg-blue-200",children:"+"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{required:!0,min:"1",type:"number",placeholder:"Monto",className:"p-2 border rounded-lg",value:s.amount,onChange:t=>l({...s,amount:t.target.value})}),e.jsx("input",{required:!0,min:"0",step:"0.1",type:"number",placeholder:"Tasa %",className:"p-2 border rounded-lg",value:s.rate,onChange:t=>l({...s,rate:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{required:!0,min:"1",type:"number",placeholder:"Plazo",className:"p-2 border rounded-lg",value:s.term,onChange:t=>l({...s,term:t.target.value})}),e.jsxs("select",{className:"p-2 border rounded-lg",value:s.frequency,onChange:t=>l({...s,frequency:t.target.value}),children:[e.jsx("option",{children:"Diario"}),e.jsx("option",{children:"Semanal"}),e.jsx("option",{children:"Quincenal"}),e.jsx("option",{children:"Mensual"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white py-3 rounded-lg font-bold",children:"Guardar Solicitud"})]})]})})]})]})}export{g as RequestsView,g as default};
