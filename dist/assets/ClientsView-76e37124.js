import{r as o,j as e,C as i,f as h}from"./index-868a038d.js";const j=l=>({ACTIVE:"Activo",PAID:"Pagado",LATE:"Atrasado",PENDING:"Pendiente",APPROVED:"Aprobado",REJECTED:"Rechazado",REVIEW:"En revisión"})[l]||l;function p({clients:l,loans:a,onNewClient:m,selectedClientId:d,onSelectClient:c,onSelectLoan:r,onEditClient:x}){const t=l.find(s=>s.id===d)||null,n=o.useMemo(()=>t?a.filter(s=>s.clientId===t.id):[],[a,t]);return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Clientes"}),e.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:"Nuevo Cliente"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Listado de Clientes"}),e.jsxs("span",{className:"text-sm text-slate-500",children:["Total: ",l.length]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-left",children:"Nombre"}),e.jsx("th",{className:"p-2 text-left",children:"Teléfono"}),e.jsx("th",{className:"p-2 text-left",children:"Dirección"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[l.map(s=>e.jsxs("tr",{onClick:()=>c&&c(s.id),className:`cursor-pointer hover:bg-blue-50 ${d===s.id?"bg-blue-50":""}`,children:[e.jsx("td",{className:"p-2 font-medium text-slate-800",children:s.name}),e.jsx("td",{className:"p-2 text-slate-600",children:s.phone}),e.jsx("td",{className:"p-2 text-slate-600",children:s.address})]},s.id)),l.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"p-4 text-center text-slate-400",colSpan:3,children:"No hay clientes registrados."})})]})]})})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Detalle del Cliente"}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Nombre: "}),t.name]}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Teléfono: "}),t.phone||"N/D"]}),e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Dirección: "}),t.address||"N/D"]}),t.idNumber&&e.jsxs("p",{className:"text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"ID: "}),t.idNumber]}),t.notes&&e.jsxs("p",{className:"text-sm text-slate-700 mt-2",children:[e.jsx("span",{className:"font-semibold",children:"Notas: "}),t.notes]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:()=>x&&x(t),className:"px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold",children:"Editar cliente"})})]}),e.jsxs(i,{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Préstamos del Cliente"}),n.length===0&&e.jsx("p",{className:"text-sm text-slate-400",children:"Este cliente no tiene préstamos registrados."}),n.length>0&&e.jsx("ul",{className:"divide-y divide-slate-100 text-sm",children:n.map(s=>e.jsxs("li",{className:"py-2 flex justify-between items-center cursor-pointer hover:bg-slate-50 rounded-lg px-2 transition-colors",onClick:()=>r&&r(s.id),children:[e.jsxs("span",{children:[h(s.amount)," • ",s.rate,"%"]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:j(s.status)})]},s.id))})]})]})]})}export{p as ClientsView,p as default};
