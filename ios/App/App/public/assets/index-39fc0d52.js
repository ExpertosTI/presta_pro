import{c as $,j as e,C as N,s as G,_ as H,Z as _,m as W,X as K}from"./index-d07a4565.js";import{r as d,R as z}from"./vendor-8a332d8f.js";import{C as J}from"./credit-card-9381f742.js";import{B as q}from"./banknote-5ac92043.js";import{A as V}from"./alert-circle-3c072fc1.js";import{U as Z}from"./upload-5b885fb0.js";import{C as Q}from"./crown-11975964.js";import{B as X}from"./building-2-134235b3.js";const T=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),O=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"&&scheduler.postTask.bind(scheduler);const ee="";function ue({systemSettings:t,setSystemSettings:g,collectors:R,addCollector:F,updateCollector:B,removeCollector:U,clients:y,assignCollectorToClient:v,auth:m,showToast:i,setActiveTab:b}){var l;const[r,n]=d.useState({companyName:t.companyName||"RenKredit",mainCurrency:t.mainCurrency||"DOP",defaultPenaltyRate:t.defaultPenaltyRate??5,themeColor:t.themeColor||"indigo",securityUser:t.securityUser||"admin",securityPassword:t.securityPassword||"1234",ownerDisplayName:t.ownerDisplayName||"",companyLogo:t.companyLogo||"",dateFormat:t.dateFormat||"DD/MM/YYYY",companyWhatsApp:t.companyWhatsApp||"",graceDays:t.graceDays??0,enabledFrequencies:t.enabledFrequencies||{DAILY:!0,WEEKLY:!0,BIWEEKLY:!0,MONTHLY:!0},minLoanAmount:t.minLoanAmount??1e3,maxLoanAmount:t.maxLoanAmount??5e5,termsAndConditions:t.termsAndConditions||"",receiptFooter:t.receiptFooter||""});d.useState({name:"",phone:"",photoUrl:""}),d.useState(""),d.useState({name:"",phone:"",photoUrl:""}),d.useState(""),d.useState(""),d.useState({name:"",username:"",password:""}),d.useState("");const[w,C]=d.useState(!1),[f,p]=d.useState("");z.useEffect(()=>{n(a=>({...a,companyName:t.companyName||a.companyName,mainCurrency:t.mainCurrency||a.mainCurrency,defaultPenaltyRate:t.defaultPenaltyRate||a.defaultPenaltyRate,themeColor:t.themeColor||a.themeColor,securityUser:t.securityUser||a.securityUser,ownerDisplayName:t.ownerDisplayName||a.ownerDisplayName,companyLogo:t.companyLogo||a.companyLogo,dateFormat:t.dateFormat||a.dateFormat,companyWhatsApp:t.companyWhatsApp||a.companyWhatsApp,graceDays:t.graceDays??a.graceDays,enabledFrequencies:t.enabledFrequencies||a.enabledFrequencies,minLoanAmount:t.minLoanAmount??a.minLoanAmount,maxLoanAmount:t.maxLoanAmount??a.maxLoanAmount,termsAndConditions:t.termsAndConditions||a.termsAndConditions,receiptFooter:t.receiptFooter||a.receiptFooter}))},[t]);const[h,A]=d.useState([]),[j,P]=d.useState(!1);z.useEffect(()=>{const a=localStorage.getItem("settingsHistory");a&&A(JSON.parse(a))},[]);const S=async a=>{var o;a.preventDefault();const s={...t,companyName:r.companyName,mainCurrency:r.mainCurrency,defaultPenaltyRate:Number(r.defaultPenaltyRate)||0,themeColor:r.themeColor,enableRouteGpsNotification:t.enableRouteGpsNotification??!0,includeFutureInstallmentsInRoutes:t.includeFutureInstallmentsInRoutes??!0,securityUser:r.securityUser.trim()||"admin",securityPassword:r.securityPassword,ownerDisplayName:r.ownerDisplayName||"",companyLogo:r.companyLogo||t.companyLogo||"",dateFormat:r.dateFormat,companyWhatsApp:r.companyWhatsApp,graceDays:parseInt(r.graceDays)||0,enabledFrequencies:r.enabledFrequencies,minLoanAmount:parseFloat(r.minLoanAmount)||1e3,maxLoanAmount:parseFloat(r.maxLoanAmount)||5e5,termsAndConditions:r.termsAndConditions,receiptFooter:r.receiptFooter},u=[{date:new Date().toISOString(),changedBy:((o=m==null?void 0:m.user)==null?void 0:o.name)||"Admin"},...h].slice(0,20);A(u),localStorage.setItem("settingsHistory",JSON.stringify(u));try{await G.update(s),g(s),localStorage.setItem("systemSettings",JSON.stringify(s)),i&&i("Ajustes guardados en servidor","success")}catch(c){console.error("Error saving settings:",c),i&&i("Error al guardar ajustes en servidor","error"),g(s)}},E=()=>{if(!window.confirm("Â¿Restaurar todos los ajustes a valores predeterminados?"))return;const a={companyName:"RenKredit",mainCurrency:"DOP",defaultPenaltyRate:5,themeColor:"indigo",securityUser:"admin",securityPassword:"1234",ownerDisplayName:"",companyLogo:"",dateFormat:"DD/MM/YYYY",companyWhatsApp:"",graceDays:0,enabledFrequencies:{DAILY:!0,WEEKLY:!0,BIWEEKLY:!0,MONTHLY:!0},minLoanAmount:1e3,maxLoanAmount:5e5,termsAndConditions:"",receiptFooter:"",includeFutureInstallmentsInRoutes:!0,enableRouteGpsNotification:!0};n(a),g(a),localStorage.setItem("systemSettings",JSON.stringify(a)),i&&i("Ajustes restaurados a valores predeterminados","success")},M=async a=>{const s=a.target.files[0];if(s)try{const{fileToBase64:x,resizeImage:u}=await H(()=>import("./imageUtils-542d258e.js"),[],import.meta.url),o=await x(s),c=await u(o,400,400);n(k=>({...k,companyLogo:c}))}catch(x){console.error("Error processing company logo",x)}},D=async()=>{if(!m||!m.user||!m.user.token){p("Esta instalaciÃ³n no estÃ¡ conectada al servidor SaaS.");return}C(!0),p("");try{const a=await fetch(`${ee}/api/tenants/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.user.token}`}}),s=await a.json().catch(()=>({}));!a.ok||s.success===!1?p(s.error||"No se pudo reenviar el correo de verificaciÃ³n."):p("Correo de verificaciÃ³n reenviado. Revisa tu bandeja de entrada.")}catch(a){console.error("Resend verification email error",a),p("Error de conexiÃ³n al intentar reenviar el correo.")}finally{C(!1)}};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Ajustes"}),e.jsx(N,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Tu Plan Actual"}),e.jsx("h3",{className:"text-2xl font-bold",children:"Plan Gratuito"}),e.jsx("p",{className:"text-sm text-blue-200 mt-1",children:"10 clientes â€¢ 5 prÃ©stamos â€¢ 1 usuario"})]}),e.jsx("button",{onClick:()=>b&&b("pricing"),className:"px-4 py-2 bg-white text-blue-600 rounded-lg font-semibold text-sm hover:bg-blue-50 transition-colors shadow-lg",children:"Mejorar Plan"})]})}),e.jsxs(N,{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6 border-b border-slate-100 dark:border-slate-800 pb-2",children:"ConfiguraciÃ³n del Sistema"}),e.jsxs("form",{onSubmit:S,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nombre de la Empresa"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all shadow-sm",value:r.companyName,onChange:a=>n({...r,companyName:a.target.value}),placeholder:"Mi Financiera"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nombre en Encabezado"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all shadow-sm",value:r.ownerDisplayName,onChange:a=>n({...r,ownerDisplayName:a.target.value}),placeholder:"Ej: Juan PÃ©rez"})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800 flex items-center justify-center overflow-hidden",children:r.companyLogo?e.jsx("img",{src:r.companyLogo,alt:"Logo",className:"w-full h-full object-contain"}):e.jsx("span",{className:"text-xs text-slate-400",children:"Logo"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors text-xs",children:[e.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Cambiar Logo"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:M})]}),e.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"Se usarÃ¡ en el encabezado y en los recibos."})]})]})]}),((l=m==null?void 0:m.user)==null?void 0:l.tenantId)&&e.jsxs("div",{className:"mt-4 border-t border-slate-100 dark:border-slate-800 pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Correo de confirmaciÃ³n de cuenta SaaS"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:"Si no llegÃ³ el correo de activaciÃ³n de la cuenta, puedes reenviarlo al email del administrador."}),f&&e.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-300 mb-2",children:f}),e.jsx("button",{type:"button","data-verify-email":!0,onClick:D,disabled:w,className:"bg-emerald-600 text-white px-4 py-1.5 rounded-lg text-xs font-semibold disabled:opacity-60 hover:bg-emerald-700 transition-colors",children:w?"Reenviando...":"Reenviar correo de confirmaciÃ³n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Moneda Principal"}),e.jsxs("select",{className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:r.mainCurrency,onChange:a=>n({...r,mainCurrency:a.target.value}),children:[e.jsx("option",{value:"DOP",children:"Peso Dominicano (DOP)"}),e.jsx("option",{value:"USD",children:"DÃ³lar Estadounidense (USD)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tasa de Mora por Defecto (%)"}),e.jsx("input",{type:"number",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:r.defaultPenaltyRate,onChange:a=>n({...r,defaultPenaltyRate:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Apariencia"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"indigo",bg:"bg-indigo-700",label:"Ãndigo"},{id:"blue",bg:"bg-blue-600",label:"Azul"},{id:"emerald",bg:"bg-emerald-500",label:"Verde"},{id:"violet",bg:"bg-violet-500",label:"Violeta"},{id:"slate",bg:"bg-slate-700",label:"Gris Oscuro"},{id:"zinc",bg:"bg-zinc-900",label:"Negro"}].map(a=>e.jsx("button",{type:"button",title:a.label,onClick:()=>{const s={...t,themeColor:a.id};g(s),n({...r,themeColor:a.id}),localStorage.setItem("systemSettings",JSON.stringify(s))},className:`w-8 h-8 rounded-full border-2 transition-all ${r.themeColor===a.id?"border-slate-900 dark:border-slate-100 scale-110 ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-800 ring-blue-500":"border-transparent hover:border-slate-300 dark:hover:border-slate-600"} ${a.bg}`},a.id))}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Colores corporativos oscuros: Gris Oscuro y Negro"})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"ðŸ“… Formato y ComunicaciÃ³n"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Formato de Fecha"}),e.jsxs("select",{className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.dateFormat,onChange:a=>n({...r,dateFormat:a.target.value}),children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"ðŸ“± WhatsApp Empresa"}),e.jsx("input",{type:"tel",placeholder:"809-555-1234",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.companyWhatsApp,onChange:a=>n({...r,companyWhatsApp:a.target.value})}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Para mensajes automÃ¡ticos"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"DÃ­as de Gracia"}),e.jsx("input",{type:"number",min:"0",max:"30",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.graceDays,onChange:a=>n({...r,graceDays:a.target.value})}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Antes de aplicar mora"})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"ðŸ”„ Frecuencias de Pago Disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"DAILY",label:"Diario"},{id:"WEEKLY",label:"Semanal"},{id:"BIWEEKLY",label:"Quincenal"},{id:"MONTHLY",label:"Mensual"}].map(a=>{var s;return e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-lg cursor-pointer hover:bg-slate-100",children:[e.jsx("input",{type:"checkbox",checked:((s=r.enabledFrequencies)==null?void 0:s[a.id])??!0,onChange:x=>n({...r,enabledFrequencies:{...r.enabledFrequencies,[a.id]:x.target.checked}}),className:"w-4 h-4 rounded text-indigo-600"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:a.label})]},a.id)})}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Solo las frecuencias activas estarÃ¡n disponibles al crear prÃ©stamos"})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"ðŸ’° LÃ­mites de PrÃ©stamo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:["Monto MÃ­nimo (",r.mainCurrency,")"]}),e.jsx("input",{type:"number",min:"0",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.minLoanAmount,onChange:a=>n({...r,minLoanAmount:a.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:["Monto MÃ¡ximo (",r.mainCurrency,")"]}),e.jsx("input",{type:"number",min:"0",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.maxLoanAmount,onChange:a=>n({...r,maxLoanAmount:a.target.value})})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"ðŸ“ Textos Legales"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"TÃ©rminos y Condiciones"}),e.jsx("textarea",{rows:4,placeholder:"Ingrese los tÃ©rminos y condiciones que aparecerÃ¡n en los contratos...",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 text-sm",value:r.termsAndConditions,onChange:a=>n({...r,termsAndConditions:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Footer de Recibos"}),e.jsx("input",{type:"text",placeholder:"Texto que aparecerÃ¡ al pie de cada recibo",className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900/50 text-slate-800 dark:text-slate-200",value:r.receiptFooter,onChange:a=>n({...r,receiptFooter:a.target.value})}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Ej: "Gracias por su pago" o informaciÃ³n de contacto'})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"ðŸ›£ï¸ Opciones de Ruta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Incluir cuotas futuras en ruta"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Cuando estÃ¡ activo, las cuotas que aÃºn no vencen aparecerÃ¡n en la ruta de cobro"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t.includeFutureInstallmentsInRoutes??!0,onChange:a=>{const s={...t,includeFutureInstallmentsInRoutes:a.target.checked};g(s),localStorage.setItem("systemSettings",JSON.stringify(s))},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Notificaciones GPS en ruta"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Solicitar ubicaciÃ³n al iniciar y finalizar una ruta de cobro"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t.enableRouteGpsNotification??!0,onChange:a=>{const s={...t,enableRouteGpsNotification:a.target.checked};g(s),localStorage.setItem("systemSettings",JSON.stringify(s))},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-4 bg-slate-50 dark:bg-slate-800/50 p-2 rounded-lg inline-block px-3",children:"Seguridad: ContraseÃ±a Maestra"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Usuario Maestro"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all shadow-sm",value:r.securityUser,onChange:a=>n({...r,securityUser:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"ContraseÃ±a Maestra actual"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all shadow-sm font-mono tracking-wider",value:r.securityPassword,onChange:a=>n({...r,securityPassword:a.target.value})})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3 flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-500",children:"âš ï¸"})," Esta credencial permite eliminar registros sensibles."]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4 border-t border-slate-100 dark:border-slate-800 mt-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 border border-rose-300 text-rose-600 rounded-lg text-sm font-medium hover:bg-rose-50 dark:hover:bg-rose-900/20",children:"ðŸ”„ Restaurar Defaults"}),e.jsxs("button",{type:"button",onClick:()=>P(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 rounded-lg text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-800",children:["ðŸ“‹ Historial (",h.length,")"]})]}),e.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/30 active:scale-95 transform",children:"Guardar Cambios ConfiguraciÃ³n"})]})]})]}),e.jsxs(N,{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-1",children:"ðŸ“¦ Copia de Seguridad"}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Exporta todos tus datos (clientes, prÃ©stamos, pagos) o restaura desde un archivo anterior."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{const a=window.prompt("Ingresa la contraseÃ±a maestra para exportar los datos:");if(!a)return;if(a!==(t.securityPassword||"1234")){i&&i("ContraseÃ±a incorrecta","error");return}const s={version:"1.0",exportDate:new Date().toISOString(),systemSettings:t,collectors:R,clients:y},x=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),u=URL.createObjectURL(x),o=document.createElement("a");o.href=u,o.download=`presta_pro_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(u),i&&i("Backup exportado correctamente","success")},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-colors",children:"ðŸ“¥ Exportar Datos"}),e.jsxs("label",{className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white px-4 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-colors cursor-pointer",children:["ðŸ“¤ Restaurar Backup",e.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:a=>{const s=a.target.files[0];if(!s)return;const x=new FileReader;x.onload=u=>{try{const o=JSON.parse(u.target.result);if(!o.version||!o.exportDate){i&&i("Archivo de backup invÃ¡lido","error");return}window.confirm(`Â¿Restaurar backup del ${new Date(o.exportDate).toLocaleDateString("es-DO")}?

Esto reemplazarÃ¡ tus datos actuales.`)&&(o.systemSettings&&(g(o.systemSettings),localStorage.setItem("systemSettings",JSON.stringify(o.systemSettings))),i&&i("Backup restaurado. Recarga la pÃ¡gina para ver los cambios.","success"))}catch(o){console.error("Restore error:",o),i&&i("Error al leer el archivo de backup","error")}},x.readAsText(s),a.target.value=""}})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"ðŸ’¡ Tip: Guarda el archivo de backup en un lugar seguro (Google Drive, USB, etc.)"})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:"ðŸ“‹ Historial de Cambios"}),h.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Sin cambios registrados"}):e.jsx("ul",{className:"space-y-2",children:h.map((a,s)=>e.jsxs("li",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:new Date(a.date).toLocaleString("es-DO")}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:a.changedBy})]},s))}),e.jsx("button",{onClick:()=>P(!1),className:"w-full mt-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-600 dark:text-slate-400 font-medium",children:"Cerrar"})]})})]})}const Y="",ae=()=>e.jsxs("svg",{viewBox:"0 0 120 40",className:"h-6 w-auto",children:[e.jsx("rect",{width:"120",height:"40",rx:"6",fill:"#003366"}),e.jsx("text",{x:"60",y:"26",textAnchor:"middle",fill:"white",fontSize:"16",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"AZUL"})]}),te={FREE:_,PRO:Q,ENTERPRISE:X},re={FREE:"border-slate-400 dark:border-slate-600",PRO:"border-emerald-500 ring-2 ring-emerald-500/20",ENTERPRISE:"border-slate-900 dark:border-amber-400 ring-2 ring-amber-400/20"},se={FREE:"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300",PRO:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300",ENTERPRISE:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-900 dark:from-amber-900/40 dark:to-yellow-900/40 dark:text-amber-300"};function be({showToast:t,currentPlan:g="FREE"}){const[R,F]=d.useState([]),[B,U]=d.useState(!0),[y,v]=d.useState(null),[m,i]=d.useState("monthly"),[b,r]=d.useState("AZUL"),[n,w]=d.useState(!1),[C,f]=d.useState(!1),[p,h]=d.useState(null),[A,j]=d.useState(null),P=d.useRef(null);d.useEffect(()=>{S()},[]);const S=async()=>{try{const l=await fetch(`${Y}/api/subscriptions/plans`);if(l.ok){const a=await l.json();F(a)}else console.warn("Plans API returned",l.status,"- using fallback plans"),E()}catch(l){console.error("Error fetching plans:",l),E()}finally{U(!1)}},E=()=>{F([{id:"FREE",name:"Plan Gratis",monthlyPrice:0,yearlyPrice:0,monthlyPriceFormatted:"RD$0.00",yearlyPriceFormatted:"RD$0.00",features:["10 clientes","5 prÃ©stamos activos","1 usuario","Sin acceso a IA","Expira en 30 dÃ­as"]},{id:"PRO",name:"Plan Profesional",monthlyPrice:8e4,yearlyPrice:8e5,monthlyPriceFormatted:"RD$800.00",yearlyPriceFormatted:"RD$8,000.00",features:["100 clientes","50 prÃ©stamos activos","5 usuarios","100 consultas AI/mes"]},{id:"ENTERPRISE",name:"Plan Empresarial",monthlyPrice:14e4,yearlyPrice:14e5,monthlyPriceFormatted:"RD$1,400.00",yearlyPriceFormatted:"RD$14,000.00",features:["Clientes ilimitados","PrÃ©stamos ilimitados","Usuarios ilimitados","AI ilimitado","Soporte prioritario"]}])},M=l=>{const a=l.target.files[0];if(a){h(a);const s=new FileReader;s.onloadend=()=>j(s.result),s.readAsDataURL(a)}},D=async l=>{if(!(l==="FREE"||l===g)){if((b==="BANK_TRANSFER"||b==="CASH")&&!p){f(!0);return}w(!0);try{const a=localStorage.getItem("authToken"),s=R.find(c=>c.id===l),x=m==="yearly"?s==null?void 0:s.yearlyPriceFormatted:s==null?void 0:s.monthlyPriceFormatted;if(p&&(b==="BANK_TRANSFER"||b==="CASH")){const c=new FormData;c.append("proof",p),c.append("plan",l),c.append("amount",x),c.append("method",b);const k=await fetch(`${Y}/api/subscriptions/upload-proof`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:c}),I=await k.json();if(!k.ok){t==null||t(I.error||"Error al enviar comprobante","error");return}t==null||t("Comprobante enviado. RecibirÃ¡s confirmaciÃ³n por correo.","success"),v(null),f(!1),h(null),j(null);return}const u=await fetch(`${Y}/api/subscriptions/upgrade`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({plan:l,interval:m,paymentMethod:b})}),o=await u.json();if(!u.ok){t==null||t(o.error||"Error al procesar","error");return}if(o.method==="AZUL"&&o.formData){const c=document.createElement("form");c.action=o.redirectUrl,c.method="POST",Object.entries(o.formData).forEach(([k,I])=>{const L=document.createElement("input");L.type="hidden",L.name=k,L.value=I,c.appendChild(L)}),document.body.appendChild(c),c.submit();return}t==null||t("Comprobante enviado. RecibirÃ¡s confirmaciÃ³n por correo y en notificaciones.","success"),v(null),f(!1),h(null),j(null)}catch(a){console.error("Upgrade error:",a),t==null||t("Error al procesar el upgrade","error")}finally{w(!1)}}};return B?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(O,{className:"animate-spin text-slate-600",size:48})}):e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:"Planes y Precios"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Elige el plan que mejor se adapte a tu negocio"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"bg-slate-200 dark:bg-slate-800 p-1 rounded-xl inline-flex",children:[e.jsx("button",{onClick:()=>i("monthly"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${m==="monthly"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow":"text-slate-600 dark:text-slate-400"}`,children:"Mensual"}),e.jsxs("button",{onClick:()=>i("yearly"),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${m==="yearly"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow":"text-slate-600 dark:text-slate-400"}`,children:["Anual ",e.jsx("span",{className:"text-emerald-600 text-xs ml-1",children:"2 meses gratis"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:R.map(l=>{var u;const a=te[l.id]||_,s=g===l.id,x=m==="yearly"?l.yearlyPriceFormatted:l.monthlyPriceFormatted;return e.jsxs(N,{className:`relative ${re[l.id]} ${l.id==="PRO"?"md:transform md:scale-105":""}`,children:[l.id==="PRO"&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"bg-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"MÃ¡s Popular"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-xl ${se[l.id]}`,children:e.jsx(a,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:l.name}),s&&e.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Tu plan actual"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:x}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400 text-sm",children:["/",m==="yearly"?"aÃ±o":"mes"]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:(u=l.features)==null?void 0:u.map((o,c)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[e.jsx(W,{size:16,className:"text-emerald-500 flex-shrink-0"}),o]},c))}),l.id==="FREE"?e.jsx("button",{disabled:!0,className:"w-full py-2.5 rounded-lg text-sm font-semibold bg-slate-200 dark:bg-slate-700 text-slate-500 cursor-not-allowed",children:s?"Plan Actual":"Gratis"}):e.jsx("button",{onClick:()=>v(l.id),disabled:s||n,className:`w-full py-2.5 rounded-lg text-sm font-semibold transition-all ${s?"bg-emerald-100 text-emerald-700 cursor-not-allowed":l.id==="PRO"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 shadow-lg shadow-emerald-500/25":"bg-gradient-to-r from-slate-800 to-slate-700 text-white hover:from-slate-900 hover:to-slate-800 shadow-lg shadow-slate-500/25"}`,children:s?"Plan Actual":"Seleccionar"})]})]},l.id)})}),y&&!C&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/70 flex items-center justify-center z-50 p-4",children:e.jsx(N,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50 mb-4",children:"Selecciona mÃ©todo de pago"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:()=>r("AZUL"),className:`w-full p-4 rounded-xl border-2 flex items-center gap-3 transition-all ${b==="AZUL"?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[e.jsx("div",{className:"bg-[#003366] p-2 rounded-lg",children:e.jsx(J,{size:20,className:"text-white"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Tarjeta de CrÃ©dito/DÃ©bito"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ae,{}),e.jsx("span",{className:"text-xs text-slate-500",children:"Visa, MasterCard, AMEX"})]})]})]}),e.jsxs("button",{onClick:()=>r("BANK_TRANSFER"),className:`w-full p-4 rounded-xl border-2 flex items-center gap-3 transition-all ${b==="BANK_TRANSFER"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[e.jsx(T,{size:24,className:"text-emerald-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Transferencia Bancaria"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Adjunta comprobante â€¢ ConfirmaciÃ³n en 24h"})]})]}),e.jsxs("button",{onClick:()=>r("CASH"),className:`w-full p-4 rounded-xl border-2 flex items-center gap-3 transition-all ${b==="CASH"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[e.jsx(q,{size:24,className:"text-amber-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Efectivo / DepÃ³sito"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Adjunta comprobante â€¢ ConfirmaciÃ³n manual"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{v(null),h(null),j(null)},className:"flex-1 py-2.5 rounded-lg text-sm font-semibold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600",children:"Cancelar"}),e.jsxs("button",{onClick:()=>D(y),disabled:n,className:"flex-1 py-2.5 rounded-lg text-sm font-semibold bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-200 disabled:opacity-50 flex items-center justify-center gap-2",children:[n&&e.jsx(O,{className:"animate-spin",size:16}),"Continuar"]})]})]})})}),C&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/70 flex items-center justify-center z-50 p-4",children:e.jsx(N,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50",children:"Adjuntar Comprobante"}),e.jsx("button",{onClick:()=>{f(!1),h(null),j(null)},children:e.jsx(K,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsxs("p",{className:"font-semibold mb-2",children:["Datos para ",b==="BANK_TRANSFER"?"transferencia":"depÃ³sito",":"]}),e.jsx("p",{className:"font-bold",children:"Adderly Marte"}),e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-300 mb-2",children:"CÃ©dula: 224-0056380-9"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[e.jsxs("div",{onClick:()=>{navigator.clipboard.writeText("804637114"),t("Copiado: Banco Popular")},className:"bg-amber-100 dark:bg-amber-800/30 p-2 rounded cursor-pointer hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors active:scale-95",children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Banco Popular"}),e.jsx("p",{className:"font-mono",children:"804637114"})]}),e.jsxs("div",{onClick:()=>{navigator.clipboard.writeText("10499770022"),t("Copiado: Banco BHD")},className:"bg-amber-100 dark:bg-amber-800/30 p-2 rounded cursor-pointer hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors active:scale-95",children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Banco BHD"}),e.jsx("p",{className:"font-mono",children:"10499770022"})]}),e.jsxs("div",{onClick:()=>{navigator.clipboard.writeText("9606451004"),t("Copiado: BanReservas")},className:"bg-amber-100 dark:bg-amber-800/30 p-2 rounded cursor-pointer hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors active:scale-95",children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"BanReservas"}),e.jsx("p",{className:"font-mono",children:"9606451004"})]}),e.jsxs("div",{onClick:()=>{navigator.clipboard.writeText("1001256657"),t("Copiado: QIK")},className:"bg-amber-100 dark:bg-amber-800/30 p-2 rounded cursor-pointer hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors active:scale-95",children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"QIK Banco Digital"}),e.jsx("p",{className:"font-mono",children:"1001256657"})]})]}),e.jsx("p",{className:"text-xs mt-2 text-amber-600 dark:text-amber-400",children:"ðŸ“§ adderlymarte@hotmail.com"})]})]})}),e.jsx("div",{onClick:()=>{var l;return(l=P.current)==null?void 0:l.click()},className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-8 text-center cursor-pointer hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:A?e.jsxs("div",{className:"space-y-2",children:[e.jsx("img",{src:A,alt:"Preview",className:"max-h-40 mx-auto rounded-lg"}),e.jsxs("p",{className:"text-sm text-emerald-600 font-semibold",children:["âœ“ ",p==null?void 0:p.name]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:32,className:"mx-auto text-slate-400 mb-2"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Haz clic para subir tu comprobante"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PNG, JPG o PDF"})]})}),e.jsx("input",{ref:P,type:"file",accept:"image/*,.pdf",onChange:M,className:"hidden"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3 text-center",children:"RecibirÃ¡s confirmaciÃ³n por correo electrÃ³nico y en el centro de notificaciones"}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:()=>{f(!1),h(null),j(null)},className:"flex-1 py-2.5 rounded-lg text-sm font-semibold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300",children:"Cancelar"}),e.jsxs("button",{onClick:()=>D(y),disabled:!p||n,className:"flex-1 py-2.5 rounded-lg text-sm font-semibold bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[n&&e.jsx(O,{className:"animate-spin",size:16}),"Enviar Comprobante"]})]})]})})})]})}export{be as PricingView,ue as SettingsView};
